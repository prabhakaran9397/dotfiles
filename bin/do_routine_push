#!/bin/bash

if [ -z $2 ] || [ -z $3 ] || [ -z $4 ]; then
    exit 1;
fi

if [ $1 ] && [ -d $1 ]; then
	cd $1
	if [ -d .git ]; then
        if [ "$(git status | grep 'git add')" ]; then
		    git add -A
		    git commit -m "routine commit $(date '+%d-%b-%Y-%I:%M%p')"
        fi
        echo "git push https://$2:$3@$(git remote -v | awk '{print $2}' | head -1 | sed 's/^'$4'//g') master"
	fi
fi
